<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>tasarch::gdb namespace | tasarch</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="stylesheet" href="fixes.css" />
  <link rel="icon" href="favicon-96x96.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m"><img src="icon.png" alt="" />tasarch</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="pages.html">Pages</a>
              <ol>
                <li><a href="about.html">About</a></li>
                <li><a href="movie.html">tasarch Movie Format</a></li>
                <li><a href="usage.html">Using tasarch</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespacetasarch.html">tasarch</a>::<wbr/></span>gdb <span class="m-thin">namespace</span>
        </h1>
        <p><span></span></p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#func-members">Functions</a></li>
                <li><a href="#var-members">Variables</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <section id="nested-classes">
          <h2><a href="#nested-classes">Classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classtasarch_1_1gdb_1_1bg__executor.html" class="m-doc">bg_executor</a>
            </dt>
            <dd>Responsible for handling multiple threads, that will then run coroutines (mostly io, mostly for gdbstub). Normally using asio, you would just run the executor inside the main thread. However, here the main thread belongs to the GUI, so we create background thread(s) to run the executor.</dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1buffer__too__small.html" class="m-doc">buffer_too_small</a>
            </dt>
            <dd>Exception thrown when a buffer was too small to fit all recvd data.</dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1connection.html" class="m-doc">connection</a>
            </dt>
            <dd><span></span></dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1debugger.html" class="m-doc">debugger</a>
            </dt>
            <dd><span></span></dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1packet__io.html" class="m-doc">packet_io</a>
            </dt>
            <dd>Implements the low-level transport protocol as specified by GDB. For details see <a href="https://sourceware.org/gdb/onlinedocs/gdb/Overview.html#Overview">https:/<wbr />/<wbr />sourceware.org/<wbr />gdb/<wbr />onlinedocs/<wbr />gdb/<wbr />Overview.html#Overview</a>.</dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1server.html" class="m-doc">server</a>
            </dt>
            <dd><span></span></dd>
            <dt>
              class <a href="classtasarch_1_1gdb_1_1timed__out.html" class="m-doc">timed_out</a>
            </dt>
            <dd>Exception thrown when a timeout was reached.</dd>
          </dl>
        </section>
        <section id="func-members">
          <h2><a href="#func-members">Functions</a></h2>
          <dl class="m-doc">
            <dt>
              <div class="m-doc-template">template&lt;typename TResult = void&gt;</div>
              <span class="m-doc-wrap-bumper">auto <a href="#a7f54693e9f9e9b7982c3d680d1c48ca5" class="m-doc">awaitable_with_timeout</a>(</span><span class="m-doc-wrap">asio::awaitable&lt;TResult&gt; awaitable,
              const std::chrono::system_clock::duration&amp; timeout) -&gt; asio::awaitable&lt; TResult &gt; -&gt; auto</span>
            </dt>
            <dd>Use to await something with a timeout.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a229f84ffe1e4529777b3d93456409a67" class="m-doc">awaitable_with_timeout</a>(</span><span class="m-doc-wrap">asio::awaitable&lt;void&gt; awaitable,
              const std::chrono::system_clock::duration&amp; timeout) -&gt; asio::awaitable&lt; void &gt; -&gt; auto</span>
            </dt>
            <dd>Special casing needed for void coroutines, as they dont return a value, so the variant is not working! See <code><a href="namespacetasarch_1_1gdb.html#a7f54693e9f9e9b7982c3d680d1c48ca5" class="m-doc">awaitable_<wbr />with_<wbr />timeout()</a></code> for details.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a6cf1da2d3b665ddf1904044e4e2a4a6b" class="m-doc">decode_hex</a>(</span><span class="m-doc-wrap"><a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> c) -&gt; int -&gt; auto <span class="m-label m-flat m-primary">constexpr</span></span>
            </dt>
            <dd>Simple hex decoding of a nibble.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a519433c8f66a7c9313caa07fdeb7c218" class="m-doc">encode_hex</a>(</span><span class="m-doc-wrap"><a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> v) -&gt; char -&gt; auto <span class="m-label m-flat m-primary">constexpr</span></span>
            </dt>
            <dd>Simple hex encoding of a nibble.</dd>
          </dl>
        </section>
        <section id="var-members">
          <h2><a href="#var-members">Variables</a></h2>
          <dl class="m-doc">
            <dt>
              static size_t <a href="#adec777c0dc396ec1010f3426f1dc1b9f" class="m-doc">gdb_packet_buffer_size</a> <span class="m-label m-flat m-primary">constexpr</span>
            </dt>
            <dd>Size of the buffer for actual command packets.</dd>
            <dt>
              static size_t <a href="#a7b92dc12499aeeb2532e12669c5c22d5" class="m-doc">gdb_transport_buffer_size</a> <span class="m-label m-flat m-primary">constexpr</span>
            </dt>
            <dd>Size of the buffer for receiving on the socket (so raw data).</dd>
            <dt>
              <a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> <a href="#a85f61c96ee2c2f036e5bb93cc5d73855" class="m-doc">break_character</a> <span class="m-label m-flat m-primary">constexpr</span>
            </dt>
            <dd>Byte received when gdb client requests an interrupt.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a7f54693e9f9e9b7982c3d680d1c48ca5"><div>
            <h3>
              <div class="m-doc-include m-code m-inverted m-right-m m-text-right"><span class="cp">#include</span> <a class="cpf" href="gdb_2common_8h.html">&lt;src/gdb/common.h&gt;</a></div>
              <div class="m-doc-template">
                template&lt;typename TResult = void&gt;
              </div>
              <span class="m-doc-wrap-bumper">auto tasarch::<wbr />gdb::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a7f54693e9f9e9b7982c3d680d1c48ca5" class="m-doc-self">awaitable_with_timeout</a>(</span><span class="m-doc-wrap">asio::awaitable&lt;TResult&gt; awaitable,
              const std::chrono::system_clock::duration&amp; timeout) -&gt; asio::awaitable&lt; TResult &gt;</span></span>
            </h3>
            <p>Use to await something with a timeout.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Template parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">TResult</td>
                  <td></td>
                </tr>
              </tbody>
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td>awaitable</td>
                  <td></td>
                </tr>
                <tr>
                  <td>timeout</td>
                  <td></td>
                </tr>
              </tbody>
              <thead>
                <tr>
                  <th>Returns</th>
                  <td>asio::awaitable&lt;TResult&gt;</td>
                </tr>
              </thead>
              <thead>
                <tr><th colspan="2">Exceptions</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td><a href="classtasarch_1_1gdb_1_1timed__out.html" class="m-doc">timed_<wbr />out</a></td>
                  <td>Timed out exception, signifying that the timeout has been reached.</td>
                </tr>
              </tbody>
            </table>
<pre class="m-code"><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="o">::</span><span class="nn">chrono_literals</span><span class="p">;</span><span class="w"> </span><span class="c1">// for nice duration literals.</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">co_await</span><span class="w"> </span><span class="n">awaitable_with_timeout</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">socket</span><span class="p">.</span><span class="n">async_receive</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">read_buf</span><span class="p">,</span><span class="w"> </span><span class="n">asio</span><span class="o">::</span><span class="n">use_awaitable</span><span class="p">),</span><span class="w"> </span><span class="mi">1000</span><span class="n">ms</span><span class="p">);</span><span class="w"></span></pre>
          </div></section>
          <section class="m-doc-details" id="a229f84ffe1e4529777b3d93456409a67"><div>
            <h3>
              <span class="m-doc-wrap-bumper">auto tasarch::<wbr />gdb::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a229f84ffe1e4529777b3d93456409a67" class="m-doc-self">awaitable_with_timeout</a>(</span><span class="m-doc-wrap">asio::awaitable&lt;void&gt; awaitable,
              const std::chrono::system_clock::duration&amp; timeout) -&gt; asio::awaitable&lt; void &gt;</span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="gdb_2common_8h.html">&lt;src/gdb/common.h&gt;</a></div>
            </h3>
            <p>Special casing needed for void coroutines, as they dont return a value, so the variant is not working! See <code><a href="namespacetasarch_1_1gdb.html#a7f54693e9f9e9b7982c3d680d1c48ca5" class="m-doc">awaitable_<wbr />with_<wbr />timeout()</a></code> for details.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">awaitable</td>
                  <td></td>
                </tr>
                <tr>
                  <td>timeout</td>
                  <td></td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>asio::awaitable&lt;void&gt;</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a6cf1da2d3b665ddf1904044e4e2a4a6b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">auto tasarch::<wbr />gdb::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6cf1da2d3b665ddf1904044e4e2a4a6b" class="m-doc-self">decode_hex</a>(</span><span class="m-doc-wrap"><a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> c) -&gt; int <span class="m-label m-primary">constexpr</span></span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="packet__io_8h.html">&lt;src/gdb/packet_io.h&gt;</a></div>
            </h3>
            <p>Simple hex decoding of a nibble.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">c</td>
                  <td>The character.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>int Either the decoded nibble (<code>[0, 15]</code>) or <code>-1</code> on failure.</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-dim"><h4><a href="todo.html#_todo000017" class="m-doc">Todo</a></h4><p>Borrowed from atmosphere.</p></aside>
          </div></section>
          <section class="m-doc-details" id="a519433c8f66a7c9313caa07fdeb7c218"><div>
            <h3>
              <span class="m-doc-wrap-bumper">auto tasarch::<wbr />gdb::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a519433c8f66a7c9313caa07fdeb7c218" class="m-doc-self">encode_hex</a>(</span><span class="m-doc-wrap"><a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> v) -&gt; char <span class="m-label m-primary">constexpr</span></span></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="packet__io_8h.html">&lt;src/gdb/packet_io.h&gt;</a></div>
            </h3>
            <p>Simple hex encoding of a nibble.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">v</td>
                  <td>The value.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>char</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-dim"><h4><a href="todo.html#_todo000018" class="m-doc">Todo</a></h4><p>Borrowed from atmosphere.</p></aside><aside class="m-note m-info"><h4>Note</h4><p>Even values beyond <code>[0, 15]</code> will be encoded, <code>v</code> is just <code>&amp; 0xf</code>&#x27;d.</p></aside>
          </div></section>
        </section>
        <section>
          <h2>Variable documentation</h2>
          <section class="m-doc-details" id="adec777c0dc396ec1010f3426f1dc1b9f"><div>
            <h3>
              static size_t tasarch::<wbr />gdb::<wbr /><a href="#adec777c0dc396ec1010f3426f1dc1b9f" class="m-doc-self">gdb_packet_buffer_size</a> <span class="m-label m-primary">constexpr</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="packet__io_8h.html">&lt;src/gdb/packet_io.h&gt;</a></div>
            </h3>
            <p>Size of the buffer for actual command packets.</p>
<p>Size copied from atmosphere code, maybe we should look into what is best for our purposes?</p>
          </div></section>
          <section class="m-doc-details" id="a7b92dc12499aeeb2532e12669c5c22d5"><div>
            <h3>
              static size_t tasarch::<wbr />gdb::<wbr /><a href="#a7b92dc12499aeeb2532e12669c5c22d5" class="m-doc-self">gdb_transport_buffer_size</a> <span class="m-label m-primary">constexpr</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="packet__io_8h.html">&lt;src/gdb/packet_io.h&gt;</a></div>
            </h3>
            <p>Size of the buffer for receiving on the socket (so raw data).</p>
<p>Also copied from atmosphere code.</p>
          </div></section>
          <section class="m-doc-details" id="a85f61c96ee2c2f036e5bb93cc5d73855"><div>
            <h3>
              <a href="defines_8h.html#a987e4d6cf789cb59dbb390728271e4d6" class="m-doc">u8</a> tasarch::<wbr />gdb::<wbr /><a href="#a85f61c96ee2c2f036e5bb93cc5d73855" class="m-doc-self">break_character</a> <span class="m-label m-primary">constexpr</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="packet__io_8h.html">&lt;src/gdb/packet_io.h&gt;</a></div>
            </h3>
            <p>Byte received when gdb client requests an interrupt.</p>
<p>The gdb client sends this on a ctrl-c on its end. Through this, it can tell the server to halt execution of its target, allowing things like adding breakpoints again (e.g. you messed up when adding them or dont trust gdb that they werent hit ;)).</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>tasarch. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.17 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
